{
  "database_info": {
    "name": "MMA Savant Database",
    "naming_convention": "singular_table_names",
    "important_notes": [
      "All table names use SINGULAR form (match, fighter, event, ranking)",
      "NEVER use plural forms (matches, fighters, events, rankings)",
      "Primary keys are always 'id' column with integer type"
    ]
  },
  "tables": {
    "fighter": {
      "description": "UFC fighter basic information and records",
      "relationships": {
        "fighter_match": "1:N - Fighter participates in multiple matches",
        "ranking": "1:N - Fighter can have rankings in multiple weight classes"
      },
      "columns": [
        {
          "column": "name",
          "type": "character varying",
          "nullable": false,
          "description": "Fighter full name"
        },
        {
          "column": "nickname",
          "type": "character varying",
          "nullable": true,
          "description": "Fighter nickname"
        },
        {
          "column": "wins",
          "type": "integer",
          "nullable": true,
          "description": "Total wins"
        },
        {
          "column": "losses",
          "type": "integer",
          "nullable": true,
          "description": "Total losses"
        },
        {
          "column": "draws",
          "type": "integer",
          "nullable": true,
          "description": "Total draws"
        },
        {
          "column": "height",
          "type": "double precision",
          "nullable": true,
          "description": "Height in inches"
        },
        {
          "column": "height_cm",
          "type": "double precision",
          "nullable": true,
          "description": "Height in centimeters"
        },
        {
          "column": "weight",
          "type": "double precision",
          "nullable": true,
          "description": "Weight in pounds"
        },
        {
          "column": "weight_kg",
          "type": "double precision",
          "nullable": true,
          "description": "Weight in kilograms"
        },
        {
          "column": "reach",
          "type": "double precision",
          "nullable": true,
          "description": "Reach in inches"
        },
        {
          "column": "reach_cm",
          "type": "double precision",
          "nullable": true,
          "description": "Reach in centimeters"
        },
        {
          "column": "stance",
          "type": "character varying",
          "nullable": true,
          "description": "Fighting stance",
          "value_format": {
            "possible_values": [
              "switch",
              "orthodox",
              "open stance",
              "southpaw",
              "sideways"
            ]
          }
        },
        {
          "column": "birthdate",
          "type": "character varying",
          "nullable": true,
          "description": "Birth date"
        },
        {
          "column": "belt",
          "type": "boolean",
          "nullable": true,
          "description": "Currently holds a championship belt",
          "notes": "true = currently holds belt"
        }
      ]
    },
    "event": {
      "description": "UFC event information",
      "relationships": {
        "match": "1:N - Event contains multiple matches"
      },
      "columns": [
        {
          "column": "name",
          "type": "character varying",
          "nullable": false,
          "description": "Event name"
        },
        {
          "column": "event_date",
          "type": "date",
          "nullable": true,
          "description": "Event date",
          "value_format": {"format": "YYYY-MM-DD"}
        },
        {
          "column": "location",
          "type": "character varying",
          "nullable": true,
          "description": "Event location",
          "value_format": {
            "pattern": "city, state/province, country",
            "examples": ["las vegas, nevada, usa", "abu dhabi, abu dhabi, uae"]
          }
        }
      ]
    },
    "match": {
      "description": "Individual fight/match information",
      "relationships": {
        "event": "N:1 - Match belongs to one event",
        "fighter_match": "1:N - Match has multiple fighter participants (usually 2)",
        "weight_class": "N:1 - Match belongs to one weight class"
      },
      "columns": [
        {
          "column": "event_id",
          "type": "integer",
          "nullable": true,
          "description": "Foreign key to event"
        },
        {
          "column": "weight_class_id",
          "type": "integer",
          "nullable": true,
          "description": "Foreign key to weight_class"
        },
        {
          "column": "is_main_event",
          "type": "boolean",
          "nullable": true,
          "description": "Is this the main event"
        },
        {
          "column": "order",
          "type": "integer",
          "nullable": true,
          "description": "Fight order on card",
          "notes": "biggest number is main event"
        },
        {
          "column": "method",
          "type": "character varying",
          "nullable": true,
          "description": "Finish method",
          "value_format": {
            "pattern": "{CATEGORY}-{TECHNIQUE}",
            "common_prefixes": [
              "SUB-",
              "TKO-",
              "KO-",
              "U-DEC",
              "S-DEC",
              "M-DEC",
              "Overturned-"
            ],
            "examples": [
              "SUB-Rear Naked Choke",
              "TKO-Punches",
              "U-DEC"
            ]
          }
        },
        {
          "column": "result_round",
          "type": "integer",
          "nullable": true,
          "description": "Round the fight ended",
          "value_range": {"min": 1, "max": 5}
        },
        {
          "column": "time",
          "type": "character varying",
          "nullable": true,
          "description": "Time fight ended in round",
          "value_format": {"pattern": "M:SS", "examples": ["5:00", "2:34", "0:45"]},
          "notes": "Time within round when fight ended. if time over 5:00 it need to devided by 5. example: 5:01 -> 0:01"
        }
      ]
    },
    "fighter_match": {
      "description": "Junction table linking fighters to matches with results",
      "relationships": {
        "fighter": "N:1 - References one fighter",
        "match": "N:1 - References one match",
        "match_statistics": "1:N - Fighter match has detailed statistics"
      },
      "columns": [
        {
          "column": "fighter_id",
          "type": "integer",
          "nullable": true,
          "description": "Foreign key to fighter"
        },
        {
          "column": "match_id",
          "type": "integer",
          "nullable": true,
          "description": "Foreign key to match"
        },
        {
          "column": "result",
          "type": "character varying",
          "nullable": true,
          "description": "Fight result",
          "value_format": {
            "possible_values": [
              "win",
              "loss",
              "draw",
              "nc"
            ]
          }
        }
      ]
    },
    "weight_class": {
      "description": "UFC weight class divisions",
      "relationships": {
        "match": "1:N - Weight class has multiple matches",
        "ranking": "1:N - Weight class has multiple rankings"
      },
      "columns": [
        {
          "column": "name",
          "type": "character varying",
          "nullable": false,
          "description": "Weight class name",
          "value_format": {
            "possible_values": {
              "mens_divisions": [
                "flyweight",
                "bantamweight",
                "featherweight",
                "lightweight",
                "welterweight",
                "middleweight",
                "light heavyweight",
                "heavyweight"
              ],
              "womens_divisions": [
                "women's strawweight",
                "women's flyweight",
                "women's bantamweight",
                "women's featherweight"
              ]
            }
          }
        }
      ]
    },
    "ranking": {
      "description": "Fighter rankings within weight classes",
      "relationships": {
        "fighter": "N:1 - References one fighter",
        "weight_class": "N:1 - References one weight class"
      },
      "columns": [
        {
          "column": "fighter_id",
          "type": "integer",
          "nullable": true,
          "description": "Foreign key to fighter"
        },
        {
          "column": "weight_class_id",
          "type": "integer",
          "nullable": true,
          "description": "Foreign key to weight_class"
        },
        {
          "column": "ranking",
          "type": "integer",
          "nullable": true,
          "description": "Rank position",
          "value_format": {"value_range": {"min": 0, "max": 15}},
          "notes": "ranking = 0 means current champion"
        }
      ]
    },
    "match_statistics": {
      "description": "Detailed fight statistics per fighter per round",
      "relationships": {
        "fighter_match": "N:1 - Statistics belong to one fighter's match performance"
      },
      "columns": [
        {
          "column": "fighter_match_id",
          "type": "integer",
          "nullable": true,
          "description": "Foreign key to fighter_match"
        },
        {
          "column": "round",
          "type": "integer",
          "nullable": true,
          "description": "Round number"
        },
        {
          "column": "knockdowns",
          "type": "integer",
          "nullable": true,
          "description": "Knockdowns scored"
        },
        {
          "column": "sig_str_landed",
          "type": "integer",
          "nullable": true,
          "description": "Significant strikes landed"
        },
        {
          "column": "sig_str_attempted",
          "type": "integer",
          "nullable": true,
          "description": "Significant strikes attempted"
        },
        {
          "column": "total_str_landed",
          "type": "integer",
          "nullable": true,
          "description": "Total strikes landed"
        },
        {
          "column": "total_str_attempted",
          "type": "integer",
          "nullable": true,
          "description": "Total strikes attempted"
        },
        {
          "column": "td_landed",
          "type": "integer",
          "nullable": true,
          "description": "Takedowns landed"
        },
        {
          "column": "td_attempted",
          "type": "integer",
          "nullable": true,
          "description": "Takedowns attempted"
        },
        {
          "column": "submission_attempts",
          "type": "integer",
          "nullable": true,
          "description": "Submission attempts"
        },
        {
          "column": "control_time_seconds",
          "type": "integer",
          "nullable": true,
          "description": "Control time in seconds"
        }
      ]
    },
    "strike_detail": {
      "description": "Detailed striking statistics breakdown",
      "relationships": {
        "fighter_match": "N:1 - Strike details belong to one fighter's match performance"
      },
      "columns": [
        {
          "column": "fighter_match_id",
          "type": "integer",
          "nullable": true,
          "description": "Foreign key to fighter_match"
        },
        {
          "column": "round",
          "type": "integer",
          "nullable": true,
          "description": "Round number"
        },
        {
          "column": "head_strikes_landed",
          "type": "integer",
          "nullable": true,
          "description": "Head strikes landed"
        },
        {
          "column": "head_strikes_attempts",
          "type": "integer",
          "nullable": true,
          "description": "Head strikes attempted"
        },
        {
          "column": "body_strikes_landed",
          "type": "integer",
          "nullable": true,
          "description": "Body strikes landed"
        },
        {
          "column": "body_strikes_attempts",
          "type": "integer",
          "nullable": true,
          "description": "Body strikes attempted"
        },
        {
          "column": "leg_strikes_landed",
          "type": "integer",
          "nullable": true,
          "description": "Leg strikes landed"
        },
        {
          "column": "leg_strikes_attempts",
          "type": "integer",
          "nullable": true,
          "description": "Leg strikes attempted"
        },
        {
          "column": "clinch_strikes_landed",
          "type": "integer",
          "nullable": true,
          "description": "Clinch strikes landed"
        },
        {
          "column": "clinch_strikes_attempts",
          "type": "integer",
          "nullable": true,
          "description": "Clinch strikes attempted"
        },
        {
          "column": "ground_strikes_landed",
          "type": "integer",
          "nullable": true,
          "description": "Ground strikes landed"
        },
        {
          "column": "ground_strikes_attempts",
          "type": "integer",
          "nullable": true,
          "description": "Ground strikes attempted"
        },
        {
          "column": "takedowns_landed",
          "type": "integer",
          "nullable": true,
          "description": "Takedowns successful"
        },
        {
          "column": "takedowns_attempts",
          "type": "integer",
          "nullable": true,
          "description": "Takedowns attempted"
        }
      ]
    },
    "user": {
      "description": "System users (not MMA domain)",
      "relationships": {
        "conversation": "1:N - User can have multiple conversations"
      },
      "columns": [
        {
          "column": "username",
          "type": "character varying",
          "nullable": true
        },
        {
          "column": "email",
          "type": "character varying",
          "nullable": true
        },
        {
          "column": "name",
          "type": "character varying",
          "nullable": true
        },
        {
          "column": "picture",
          "type": "text",
          "nullable": true
        },
        {
          "column": "provider",
          "type": "character varying",
          "nullable": true
        },
        {
          "column": "provider_id",
          "type": "character varying",
          "nullable": true
        },
        {
          "column": "password_hash",
          "type": "character varying",
          "nullable": true
        },
        {
          "column": "is_active",
          "type": "boolean",
          "nullable": false
        },
        {
          "column": "daily_requests",
          "type": "integer",
          "nullable": false
        },
        {
          "column": "total_requests",
          "type": "integer",
          "nullable": false
        },
        {
          "column": "last_request_date",
          "type": "timestamp without time zone",
          "nullable": true
        }
      ]
    },
    "conversation": {
      "description": "User conversation sessions (not MMA domain)",
      "relationships": {
        "user": "N:1 - Conversation belongs to one user",
        "message": "1:N - Conversation contains multiple messages"
      },
      "columns": [
        {
          "column": "session_id",
          "type": "character varying",
          "nullable": false
        },
        {
          "column": "user_id",
          "type": "integer",
          "nullable": false
        },
        {
          "column": "title",
          "type": "text",
          "nullable": true
        }
      ]
    },
    "message": {
      "description": "Individual messages within conversations (not MMA domain)",
      "relationships": {
        "conversation": "N:1 - Message belongs to one conversation"
      },
      "columns": [
        {
          "column": "message_id",
          "type": "character varying",
          "nullable": false
        },
        {
          "column": "session_id",
          "type": "character varying",
          "nullable": false
        },
        {
          "column": "role",
          "type": "character varying",
          "nullable": false
        },
        {
          "column": "content",
          "type": "text",
          "nullable": false
        },
        {
          "column": "tool_results",
          "type": "jsonb",
          "nullable": true
        }
      ]
    }
  }
}